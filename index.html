<!DOCTYPE html>

<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <!--<meta name="apple-mobile-web-app-status-bar-style" content="black">-->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes">
    <!--<meta name="viewport" content="height=device-height,width=device-width" />-->
    <!--width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no-->
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">-->
    <meta name="viewport" content="height=device-height, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <title>MadLuck</title>
    <link rel="stylesheet" href="panel/font/stylesheet.css" type="text/css" charset="utf-8" />
    <!--<script src="scripts/viewporter.js"></script>-->
    <script src="scripts/pixi.min.js"></script>
    <!--<script src="scripts/jquery-3.1.0.min.js"></script>-->
    <script src="scripts/libs_js.js"></script>
    <script src="engine/panel_adapter.js"></script>
    <script src="engine/slot_enity.js"></script>
    <script src="engine/commands_slot.js"></script>
    <script src="engine/model_slot.js"></script>
    <script src="main_slot.js"></script>
    <style>
        canvas {
            display: block;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #fff;
            font-family: 'heliosblackcregular','ImpactRegular';
            -webkit-tap-highlight-color: rgba(0,0,0,0);
            -webkit-touch-callout: none;
            -webkit-text-size-adjust: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -khtml-user-select: none;
            -ms-user-select: none;
            user-select: none;
            /*background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJBN0I2QTQ1M0NBQjExRTQ5RThBOTRENkVBQjQ3NzM2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJBN0I2QTQ2M0NBQjExRTQ5RThBOTRENkVBQjQ3NzM2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkE3QjZBNDMzQ0FCMTFFNDlFOEE5NEQ2RUFCNDc3MzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkE3QjZBNDQzQ0FCMTFFNDlFOEE5NEQ2RUFCNDc3MzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5jCaiLAAAAk0lEQVR42uzTsQnDMBCGUZAagQq1ThcvoAW0/0gqHOQQgRdIe/Ca46v/4+Uxxve+X8dRSum9h+vcWsspzTlrrWutcJ0+17XrfZ77Ruy8vxB0+6dT3O2fZoABBhhggAEGGGCAAQYYYIABBhhggAEGGGCAAQYYYIABBhhggAEGGGCAAQYYYIABBhhggAEGGPijfwIMAKYWZQwHkBbxAAAAAElFTkSuQmCC); background-repeat: repeat;*/
        }

        .unselectable {
            -moz-user-select: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        
        /*.viewporter {
            visibility: hidden;
        }*/
    </style>

</head>

<body>
    <!--<body onLoad="setTimeout(function() {window.scrollTo(0, 1)}, 100);">-->
    <!--<div id="viewporter" class="viewporter">
    </div>-->
    <!--<img name="preloader" src="cube.gif" class="Absolute-Center">-->
    <div id="swiper" style="background-color:black;opacity:0.5;top:0px;left:0px;position:absolute;width:100px;height:100px;display:none;">
    hbjknsfdfm
    </div>
    <div id="tick" style="position:absolute;">
    </div>
    <script>

        var mainInnerHeight = 0;
        var mainIterator = 0;
        var maxHeight = 0;
        ///ЕЕЕЕЕЕЕЕЕЕЕЕЕЕЕЕ УРА, НАКОНЕЦ Я СМОГ ПОЛУЧИТЬ ЕЩЁ 1 ШАГ В СТОРОНУ ИДЕАЛЬНОГО БИЛДА

        if (getparam('GameId') !== "")
            mainSlot.startSlot(getparam('GameId'), getparam('PartnerId'), getparam('Currency'), getparam('UserId'), getparam('Demo'), getparam('Token'), getparam('BackUrl'));
        else
            // вернуть демо на 1
            mainSlot.startSlot(101, 1, "USD", "56", 1);
        
        function getparam(name) {
            name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
            var regexS = "[\\?&]" + name + "=([^&#]*)";
            var regex = new RegExp(regexS);
            var results = regex.exec(window.location.href);
            if (results == null) return "";
            else return results[1];
        }

        function show() {
            document.getElementById('textc').style.display = 'block';
            document.getElementById('textc').style.visibility = 'visible';
            document.getElementById('tick').style.display = 'block';
            document.getElementById('tick').style.visibility = 'visible';
            document.getElementById('viewporter').style.display = 'none';
            document.getElementById('viewporter').style.visibility = 'hidden';

            document.documentElement.style.minHeight = '5000px';
        }
        function hide() {
            document.getElementById('viewporter').style.display = 'block';
            document.getElementById('viewporter').style.visibility = 'visible';
            document.getElementById('textc').style.display = 'none';
            document.getElementById('textc').style.visibility = 'hidden';
            document.getElementById('tick').style.display = 'none';
            document.getElementById('tick').style.visibility = 'hidden';

            //document.documentElement.style.minHeight = window.innerHeight + 'px';
        }; 
        function orientationchange() {
            //var srt = "innerHeight : " + window.innerHeight + "<br>";
            //srt += "window.pageYOffset : " + window.pageYOffset + "<br>";
            //document.getElementById('tick').innerHTML = srt;
        };

        var objFullScreen = {
            portrait: {
                height:0
            },
            landscape: {
                height: 0
            }
        };
        //document.getElementById('tick').style.minHeight = window.screen.availHeight + 'px';
        info();

        function info() {
            var a;
            a = "" + B("window.screen.availHeight: %d\n", window.screen.availHeight);
            a += B("window.innerHeight:        %d\n", window.innerHeight);
            a += B("window.screen.availWidth:  %d\n", window.screen.availWidth);
            a += B("window.innerWidth:         %d\n", window.innerWidth);
            a += B("orientation:               %d\n", 1111);
            //document.getElementById('tick').innerText = a;

            var a0 = window.screen.width;
            var b0 = window.screen.height;
            var e = Math.min(a0, b0);
            var a1 = Math.max(a0, b0);
            //var b1 = Math.abs(window.orientation);
            var b1 = 90;
            var m = false;

            a += B("90 == b               %d\n", 90 == b1);
            a += B("0 < Math               %d\n", (0 < Math.abs(e - Math.min(window.screen.availHeight, window.innerHeight))));
            //m = !0;
            a += B("!0               %d\n", m);
            a += B("this.md.style.width               %d\n", a1);
            a += B("this.md.style.height               %d\n", e + 100);
            a += B("!1:               %d\n", m);
            document.getElementById('tick').innerText = a;

            if(90 == b1 && 0 < (Math.abs(e - Math.min(window.screen.availHeight, window.innerHeight)))){
                m = true;
                document.getElementById('tick').style.width = B("%dpx", a1); 
            } else {
                document.getElementById('tick').style.height = B("%dpx", e + 100);
            }

            /*if(m){
                if(90 == b1){
                    document.body.style.height = B("%dpx", e + 1E3); 
                }else{
                    document.body.style.height = B("%dpx", a + 100);
                    document.getElementById('tick').style.display = "block";
                }
            }else{
                if(90 == b1){
                    document.body.style.height = B("%dpx", e); 
                }else{
                    document.body.style.height = B("%dpx", a);
                    document.getElementById('tick').style.display = "none";
                    //this.fH();
                }
            }*/

            if(m){
                document.getElementById('tick').style.display = "block";
            }else{
                document.getElementById('tick').style.display = "none";
            }

     
        };
        //window.scrollTo(0, 0);
        /*d && (d.appendChild(this.eb), document.addEventListener("touchmove", function (a) {
            sd || (a.preventDefault(), a.stopPropagation(), a.stopImmediatePropagation())
        },
        !1), this.wj(), this.timeStamp = Date.now(), a.addEventListener("touchend", function () {
            window.scrollTo(0, 0)
        }))*/
        document.getElementById('tick').addEventListener("touchend", function () {
            window.scrollTo(0, 0);
        });
        function B(b, e) {
            for (var a = arguments[0].split(/(%[sdf])/), f = "", d = 1, g = 0; g < a.length; ++g) {
                f = a[g].match(/(%[sdf])/) ? f + arguments[d++] : f + a[g];
            }
            return f;
        }

        setInterval(function () {
            //a.check()
            info();
        }, 300)

        /*var currentHeight = 0;
        var saveHeight = 0;
        var fullScreenBool = false;

        saveHeight = objFullScreen[deviceOrientation()].height = window.innerHeight;

        setInterval(function () {
            var srt = "innerHeight : " + window.innerHeight + "<br>";
            srt += "window.pageYOffset : " + window.pageYOffset + "<br>";
            document.getElementById('tick').innerHTML = srt;

            console.log(srt);

            //currentHeight = window.innerHeight;
            //saveHeight = objFullScreen[deviceOrientation()].height;
            if (window.pageYOffset > 20 && fullScreenBool == false) {
                fullScreenBool = true;
                objFullScreen[deviceOrientation()].height = window.innerHeight;
                setTimeout(function () {
                    window.scrollBy(0, -window.pageYOffset);
                    document.body.style.overflow = 'hidden';
                    console.log("НО ПО ФАКТУ Я НЕ РАБОТАЮ БЛЯДЬ");
                    document.documentElement.style.minHeight = window.innerHeight + 'px';
                },100);
                //window.viewporter.refresh();
                hide();
                return;
            }

            if (fullScreenBool == true) {
                if (objFullScreen[deviceOrientation()].height != window.innerHeight) {
                    fullScreenBool = false;
                    //window.scrollTo(0, 0);
                    //document.body.style.overflow = '';
                    show();
                }
            }
        }, 200);
        function deviceOrientation() {
            var t = 90 === Math.abs(window.orientation) ? "landscape" : "portrait";
            return t;
        }

        // prevent page scroll if `preventPageScroll` option was set to `true`
        document.body.addEventListener('touchmove', function (event) {
            event.preventDefault();
        });*/

    </script>
</body>
</html>
